{"version":3,"sources":["www/component/news-letter.jsx"],"names":[],"mappings":"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","file":"www/component/news-letter.js","sourcesContent":["(function(){\n    var Utils, HomeRequest;\n\n    MiitComponents.NewsLetter = React.createClass({\n        getDefaultProps: function() {\n            return {\n                placeholder: {\n                    email: 'Votre addresse mail'\n                },\n                submit: 'S\\'inscrire Ã  la Newsletter'\n            };\n        },\n\n        getInitialState: function() {\n            var state =  this.getDefaultErrors();\n\n            state.done = false;\n\n            return state;\n        },\n\n        getDefaultErrors: function() {\n            return {\n                missing_email: false,\n                invalid_email: false\n            };\n        },\n\n        componentWillMount: function() {\n            if(!Utils) {\n                Utils = MiitApp.get('miit-utils');\n            }\n            if(!HomeRequest) {\n                HomeRequest = MiitApp.get('miit-home-request');\n            }\n        },\n\n        handleSubmit: function(e) {\n            e.preventDefault();\n\n            var email = React.findDOMNode(this.refs.email).value.trim();\n\n            this.setState(this.getDefaultErrors());\n\n            // Check if there is data\n            if (!email) {\n                this.setState({\n                    missing_email: !email\n                });\n                return;\n            }\n\n            // Check if this is a correct email\n            if(!Utils.validator.email(email)) {\n                this.setState({\n                    invalid_email: true\n                });\n                return;\n            }\n\n            HomeRequest.registration(email, function(data) {\n                if(data.done) {\n                    this.setState({\n                        done: true\n                    });\n                }\n            }.bind(this));\n\n            return;\n        },\n\n        render: function() {\n            var classes_email = classNames({\n                'invalid': this.state.missing_email ||\n                           this.state.invalid_email\n            });\n\n            var done = this.state.done;\n\n            return (\n                <form className=\"miit-component news-letter\" onSubmit={this.handleSubmit}>\n                    <If test={!done}>\n                        <div className=\"row pt30 pb20\">\n                            <div className=\"col-md-9 mb10\">\n                                <div className={classes_email + \" input-field left-icon icon-transparent push0 pt5 pb5\" }>\n                                    <i className=\"fa fa-envelope-o pt5 pl5 pb5\"></i>\n                                    <input type=\"text\" placeholder={this.props.placeholder.email} ref=\"email\" />\n                                </div>\n                            </div>\n                            <div className=\"col-md-3 mb10\">\n                                <button type=\"submit\" className=\"btn btn-dark pl10 pr10 pt15 pb15\">{this.props.submit}</button>\n                            </div>\n                        </div>\n                    </If>\n                    <If test={done}>\n                        <div className=\"mt30\">Merci beaucoup pour votre confiance.</div>\n                    </If>\n                </form>\n            );\n        }\n    });\n})();"],"sourceRoot":"/source/"}